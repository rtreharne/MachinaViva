{% extends "tool/standalone_base.html" %}
{% block page_title %}Assignments{% endblock %}
{% block content %}
<div class="standalone-header">
    <div>
        <h2>Assignments</h2>
        <p class="lede">Create a viva and review everything in one place.</p>
    </div>
</div>

<div class="settings-grid max-two">
    <div class="settings-form-card">
        <div class="settings-card-head">
            <h3 class="settings-title">Create assignment</h3>
        </div>
        <form action="{% url 'standalone_assignment_create' %}" method="post" class="settings-grid single-column">
            {% csrf_token %}
            <div class="settings-row">
                <label for="title">Title</label>
                <input id="title" name="title" type="text" placeholder="e.g., Climate resilience viva" required>
            </div>
            <div class="settings-row">
                <label for="description">Description (optional)</label>
                <textarea id="description" name="description" rows="3" placeholder="Short description shown to students."></textarea>
            </div>
            <div class="settings-actions">
                <button type="submit" class="view-btn">Create &amp; open dashboard</button>
            </div>
        </form>
    </div>

    <div class="settings-form-card">
        <div class="settings-card-head">
            <h3 class="settings-title">Your existing assignments</h3>
        </div>

        {% if assignments %}
            <div class="table-card">
                <div class="table-head cols-2">
                    <div>Title</div>
                    <div>Action</div>
                </div>
                {% for assignment in assignments %}
                    <div class="table-row cols-2">
                        <div>
                            <div>{{ assignment.title }}</div>
                            <div class="muted monospace">{{ assignment.slug }}</div>
                        </div>
                        <div class="inline-actions">
                            <a class="pill yes" href="{% url 'standalone_assignment_entry' assignment.slug %}">View</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="standalone-muted">No assignments yet. Create one to get started.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
